<!DOCTYPE html>
<html>

<head>

</head>

<body>
    <div>
        <h1>JSON 2</h1>
    </div>
    <div>
        <a href="index.html">Home</a>
        <a href="uptojson1.html">Tasks up to JSON 1</a>
        <a href="json1.html">JSON 1</a>
        <a href="json2.html">JSON 2</a>
        <a href="garage.html">Garage</a>
        <a href="rektangles.html">Rektangles</a>
        <a href="hangman.html">Hangman</a>
        <br /><br /><br />
    </div>

    <form>
        <input type="text" placeholder="Input" id="input" />
        <input type="button" onclick="json2()" value="JSON 2 Load Data" />
        <br />
    </form>

    <div id="jDiv">

    </div>

    <script>
        function json2() {
            let inp = document.getElementById('input').value;
            let requestURL = 'https://raw.githubusercontent.com/ewomackQA/JSONDataRepo/master/kings.json';
            let request = new XMLHttpRequest();
            request.open('GET', requestURL);
            request.responseType = 'json';
            request.send();;
            request.onload = function () {
                let requestData = request.response;
                for (let i = 0; i < requestData.length; i++) {
                    for (let j = 0; j < 4; j++) {
                        if (requestData[i].nm === inp || requestData[i].cty === inp || requestData[i].hse === inp ||
                            requestData[i].yrs === inp) {
                            let out = document.createElement("h3");
                            out.textContent = (
                                `${requestData[i]['nm']}, ${requestData[i]['cty']}, ${requestData[i]['hse']}, ${requestData[i]['yrs']}`
                            );
                            let d = document.getElementById('jDiv');
                            d.appendChild(out);
                            break;
                        }
                    }
                }
            }
        }
    </script>
</body>

</html>